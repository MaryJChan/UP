<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com/up/mybatis/UPMapper.xml">

	<select id="newpdtview" resultType="pDTO"
		parameterType="String">
		SELECT * FROM new_pro_view
	</select>
	
	<select id="bestpdtview" resultType="pDTO"
		parameterType="String">
		SELECT * FROM best_pro_view
	</select>
	
	<select id="memidchk" resultType="mDTO">
		SELECT * FROM member WHERE mid = #{mid}
	</select>	
	
	<select id="memlogin" resultType="mDTO">
		SELECT mid, mpw FROM member WHERE mid = #{mid} AND mpw = #{mpw}
	</select>
	
	<select id="sessionlogin" resultType="mDTO">
		SELECT * FROM member WHERE mid = #{mid} AND mpw = #{mpw}
	</select>
	
	<insert id="meminsert" parameterType="mDTO">
		INSERT INTO member(mid, mpw, mname, msex, mbirth, mphone, mpostcode, madd, memail) 
		VALUES (#{mid}, #{mpw}, #{mname}, #{msex}, #{mbirth}, #{mphone}, #{mpostcode}, #{madd}, #{memail})
	</insert>
	
	<select id="boardListAll" resultType="bDTO">
		SELECT * FROM tblboard
		ORDER BY bno DESC
	</select>
	
	<insert id="boardstore" parameterType="bDTO">
		INSERT INTO tblboard(bno, title, content, writer) VALUES (seq_tblboard_bno.nextval, #{title}, #{content}, #{writer})
	</insert>

</mapper>